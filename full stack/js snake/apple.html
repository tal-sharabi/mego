<canvas id="myCanvas" width="300" height="300" style="border:1px solid;"></canvas>
<br>
<p>X:</p>
<p id="x_value">--</p>
<p>Y:</p>
<p id="y_value">--</p>
<p>Score:</p>
<p id="score">0</p>
<script>
// A function that will run every 3000 milliseconds
function TimeEventHandler() {
    ctx.fillStyle = 'white';
    ctx.fillRect(0, 0, 300, 300);

    // Move the black square based on the current direction
    if (direction == 'right' && x_snake < 280)
        x_snake += 20;
    if (direction == 'left' && x_snake > 0)
        x_snake -= 20;
    if (direction == 'down' && y_snake < 280)
        y_snake += 20;
    if (direction == 'up' && y_snake > 0)
        y_snake -= 20;

    document.getElementById("x_value").innerHTML = x_snake;
    document.getElementById("y_value").innerHTML = y_snake;

    // Check if the black square catches the apple
    if (x_snake == x_apple && y_snake == y_apple) {
        x_apple = Math.floor(Math.random() * 15) * 20;
        y_apple = Math.floor(Math.random() * 15) * 20;
        Score++; // Increase the score
        document.getElementById("score").innerHTML = Score;
    }

    // Draw the black square
    ctx.fillStyle = "black";
    ctx.fillRect(x_snake, y_snake, 20, 20);

    // Draw the red apple
    ctx.fillStyle = "red";
    ctx.fillRect(x_apple, y_apple, 20, 20);
}

function keyDownEventHandler(event) {
    // Set the direction based on the key press
    if (event.keyCode == 40 && direction != 'up')
        direction = 'down';
    if (event.keyCode == 38 && direction != 'down')
        direction = 'up';
    if (event.keyCode == 37 && direction != 'right')
        direction = 'left';
    if (event.keyCode == 39 && direction != 'left')
        direction = 'right';
}

//-----------------------------------------------------
ctx = document.getElementById('myCanvas').getContext('2d');
var direction = 'right'; // Initial direction
var x_snake = 100;
var y_snake = 100;
var Score = 0; // Score
setInterval(TimeEventHandler, 300);
document.onkeydown = keyDownEventHandler;
var x_apple = Math.floor(Math.random() * 15) * 20;
var y_apple = Math.floor(Math.random() * 15) * 20;
</script>

